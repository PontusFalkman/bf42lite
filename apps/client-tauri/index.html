<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bf42lite</title>
    <style>
      /* --- Reset --- */
      body,
      html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        color: white;
        background-color: #111;
      }

      /* --- Game Canvas --- */
      #game {
        display: block;
        width: 100vw;
        height: 100vh;
      }

      /* --- UI Containers --- */
      .ui-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        box-sizing: border-box;
      }

      /* --- Main Menu --- */
      #menu {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.7);
        pointer-events: all;
      }
      #menu.hidden {
        display: none;
      }

      /* --- Heads Up Display (HUD) --- */
      #hud {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      #hud.hidden {
        display: none;
      }

      /* HUD Top: Scoreboard */
      #scoreboard-top {
        display: flex;
        justify-content: space-around;
        padding: 20px;
        background: rgba(0, 0, 0, 0.3);
        font-size: 24px;
      }
      #scoreboard-top .team-a {
        color: #61a9fa;
      }
      #scoreboard-top .team-b {
        color: #fa6161;
      }

      /* HUD Bottom: Player Stats */
      #player-stats {
        padding: 20px;
        background: rgba(0, 0, 0, 0.3);
        text-align: left;
      }

      /* HUD Center: Crosshair */
      #crosshair {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 4px;
        height: 4px;
        background-color: white;
        border-radius: 50%;
        transform: translate(-50%, -50%);
      }

      /* --- Fullscreen Overlays --- */

      /* Scoreboard (Tab) */
      #scoreboard {
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.8);
      }
      #scoreboard.hidden {
        display: none;
      }

      /* Respawn Screen */
      #respawn-screen {
        justify-content: center;
        align-items: center;
        background: rgba(120, 0, 0, 0.5);
      }
      #respawn-screen.hidden {
        display: none;
      }

      /* Match End Screen */
      #match-end-message {
        display: flex; /* <-- Display must be 'flex' */
        justify-content: center;
        align-items: center;
        flex-direction: column;
        background: rgba(0, 0, 100, 0.7);
        text-align: center;
      }
      #match-end-message.hidden {
        display: none;
      }
      #match-end-message h1 {
        font-size: 48px;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <canvas id="game"></canvas>

    <div id="menu" class="ui-overlay">
      <h1>bf42lite</h1>
      <p>Loading... (Waiting for Rust)</p>
    </div>

    <div id="hud" class="ui-overlay hidden">
      <div id="scoreboard-top">
        <span class="team-a">
          Team A: <span id="team-a-tickets">100</span>
        </span>
        <span class="team-b">
          Team B: <span id="team-b-tickets">100</span>
        </span>
      </div>

      <div id="crosshair">+</div>

      <div id="player-stats">
        <div id="health-counter">HP: 100</div>
        <div id="stamina-counter">STAM: 100</div>
        <div id="fps-counter">FPS: ...</div>
      </div>
    </div>

    <div id="respawn-screen" class="ui-overlay hidden">
      <h1>You are dead!</h1>
    </div>

    <div id="scoreboard" class="ui-overlay hidden">
      <h1>Scoreboard</h1>
      </div>

    <div id="match-end-message" class="ui-overlay hidden">
      <h1>Match Over!</h1>
      <h2>Winner: <span id="match-winner">TEAM A</span></h2>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>